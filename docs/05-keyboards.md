# –ì–ª–∞–≤–∞ 5: –†–∞–±–æ—Ç–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏ –∏ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –Ω–∞—É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –±–æ—Ç–∞. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–æ—Ç–æ–º –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º.

---

## 1. –¢–∏–ø—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä –≤ Telegram

**Telegram –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ç–∏–ø–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä:**

1. **Reply Keyboard** (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤) ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
2. **Inline Keyboard** (–∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞) ‚Äî –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
3. **Keyboard Commands** (–∫–æ–º–∞–Ω–¥—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã) ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤–≤–æ–¥–µ `/`

**–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —Ç–∏–ø–∞.**

---

## 2. Reply Keyboard (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤)

**–ß—Ç–æ —ç—Ç–æ:**  
–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —ç—Ç–æ –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–º–µ–Ω—è—é—Ç –æ–±—ã—á–Ω—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É, –±–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ –∏–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- –î–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –º–µ–Ω—é –±–æ—Ç–∞
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–≤–æ–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –µ—ë —Å–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é

---

## 3. –°–æ–∑–¥–∞—ë–º –ø—Ä–æ—Å—Ç—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞.

**–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª `internal/keyboard/reply_keyboard.go`:**
```go
package keyboard

import tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"

// NewLanguageKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞
func NewLanguageKeyboard() tgbotapi.ReplyKeyboardMarkup {
    // –°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫–∏
    btnRussian := tgbotapi.NewKeyboardButton("üá∑üá∫ –†—É—Å—Å–∫–∏–π")
    btnEnglish := tgbotapi.NewKeyboardButton("üá¨üáß English")
    
    // –°–æ–∑–¥–∞—ë–º —Ä—è–¥ –∫–Ω–æ–ø–æ–∫ (–≤—Å–µ –∫–Ω–æ–ø–∫–∏ –≤ –æ–¥–Ω–æ–º —Ä—è–¥—É)
    row := tgbotapi.NewKeyboardButtonRow(btnRussian, btnEnglish)
    
    // –°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏–∑ —Ä—è–¥–æ–≤
    keyboard := tgbotapi.NewReplyKeyboard(row)
    
    return keyboard
}
```

**–†–∞–∑–±–æ—Ä:**

- `tgbotapi.NewKeyboardButton("—Ç–µ–∫—Å—Ç")` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–Ω–æ–ø–∫—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º.

- `tgbotapi.NewKeyboardButtonRow(...)` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Ä—è–¥ –∫–Ω–æ–ø–æ–∫. –í—Å–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –±—É–¥—É—Ç –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ.

- `tgbotapi.NewReplyKeyboard(...)` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏–∑ —Ä—è–¥–æ–≤ –∫–Ω–æ–ø–æ–∫.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```go
// –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∫–æ–º–∞–Ω–¥—ã
func (h *SettingsHandler) Handle(bot *tgbotapi.BotAPI, msg *tgbotapi.Message) error {
    chatID := msg.Chat.ID
    
    text := "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:"
    reply := tgbotapi.NewMessage(chatID, text)
    
    // –ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
    reply.ReplyMarkup = keyboard.NewLanguageKeyboard()
    
    _, err := bot.Send(reply)
    return err
}
```

---

## 4. –°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä—è–¥–∞–º–∏

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–°–æ–∑–¥–∞—ë–º –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä—è–¥–∞–º–∏ –∫–Ω–æ–ø–æ–∫.

**–î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤ `internal/keyboard/reply_keyboard.go`:**
```go
// NewMainMenuKeyboard —Å–æ–∑–¥–∞—ë—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞
func NewMainMenuKeyboard() tgbotapi.ReplyKeyboardMarkup {
    // –ü–µ—Ä–≤—ã–π —Ä—è–¥
    btnProfile := tgbotapi.NewKeyboardButton("üë§ –ü—Ä–æ—Ñ–∏–ª—å")
    btnSettings := tgbotapi.NewKeyboardButton("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏")
    row1 := tgbotapi.NewKeyboardButtonRow(btnProfile, btnSettings)
    
    // –í—Ç–æ—Ä–æ–π —Ä—è–¥
    btnHelp := tgbotapi.NewKeyboardButton("‚ùì –ü–æ–º–æ—â—å")
    btnAbout := tgbotapi.NewKeyboardButton("‚ÑπÔ∏è –û –±–æ—Ç–µ")
    row2 := tgbotapi.NewKeyboardButtonRow(btnHelp, btnAbout)
    
    // –¢—Ä–µ—Ç–∏–π —Ä—è–¥ (–æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –Ω–∞ –≤–µ—Å—å —Ä—è–¥)
    btnCancel := tgbotapi.NewKeyboardButton("‚ùå –û—Ç–º–µ–Ω–∞")
    row3 := tgbotapi.NewKeyboardButtonRow(btnCancel)
    
    // –°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏–∑ –≤—Å–µ—Ö —Ä—è–¥–æ–≤
    keyboard := tgbotapi.NewReplyKeyboard(row1, row2, row3)
    
    return keyboard
}
```

**–†–∞–∑–±–æ—Ä:**

- –ö–∞–∂–¥—ã–π —Ä—è–¥ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —Å –ø–æ–º–æ—â—å—é `NewKeyboardButtonRow`.

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫ –≤ —Ä—è–¥—É –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º ‚Äî –æ—Ç –æ–¥–Ω–æ–π –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö.

- –í—Å–µ —Ä—è–¥—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ `NewReplyKeyboard` —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é.

---

## 5. –°–∫—Ä—ã—Ç–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–£—á–∏–º—Å—è —Å–∫—Ä—ã–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É, –∫–æ–≥–¥–∞ –æ–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞.

**–î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é:**
```go
// RemoveKeyboard —É–¥–∞–ª—è–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
func RemoveKeyboard() tgbotapi.ReplyKeyboardRemove {
    return tgbotapi.NewReplyKeyboardRemove()
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```go
// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Å–∫—Ä—ã–≤–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
reply := tgbotapi.NewMessage(chatID, "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–∫—Ä—ã—Ç–∞")
reply.ReplyMarkup = keyboard.RemoveKeyboard()
bot.Send(reply)
```

**–í–∞—Ä–∏–∞–Ω—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:**
```go
// RemoveKeyboard —Å –æ–ø—Ü–∏–µ–π "Selective" (—Å–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
func RemoveKeyboardSelective() tgbotapi.ReplyKeyboardRemove {
    remove := tgbotapi.NewReplyKeyboardRemove()
    remove.Selective = true  // –°–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–≤–µ—á–∞–µ–º
    return remove
}
```

---

## 6. Inline Keyboard (–∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞)

**–ß—Ç–æ —ç—Ç–æ:**  
–ò–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ ‚Äî —ç—Ç–æ –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –û–Ω–∏ –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏ —É–¥–æ–±–Ω—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
- –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–Ω–æ–ø–∫–∏, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—è —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å callback-–∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç URL-–∫–Ω–æ–ø–∫–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π
- –î–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- –î–ª—è –≤—ã–±–æ—Ä–∞ –æ–ø—Ü–∏–π –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –î–ª—è —Å—Å—ã–ª–æ–∫ –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## 7. –°–æ–∑–¥–∞—ë–º –ø—Ä–æ—Å—Ç—É—é –∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–°–æ–∑–¥–∞—ë–º –∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è.

**–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª `internal/keyboard/inline_keyboard.go`:**
```go
package keyboard

import tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"

// NewConfirmKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–î–∞" –∏ "–ù–µ—Ç"
func NewConfirmKeyboard(dataPrefix string) tgbotapi.InlineKeyboardMarkup {
    // –°–æ–∑–¥–∞—ë–º –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏
    btnYes := tgbotapi.NewInlineKeyboardButtonData("‚úÖ –î–∞", dataPrefix+"_yes")
    btnNo := tgbotapi.NewInlineKeyboardButtonData("‚ùå –ù–µ—Ç", dataPrefix+"_no")
    
    // –°–æ–∑–¥–∞—ë–º —Ä—è–¥ –∫–Ω–æ–ø–æ–∫
    row := tgbotapi.NewInlineKeyboardRow(btnYes, btnNo)
    
    // –°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    
    return keyboard
}
```

**–†–∞–∑–±–æ—Ä:**

- `tgbotapi.NewInlineKeyboardButtonData("—Ç–µ–∫—Å—Ç", "–¥–∞–Ω–Ω—ã–µ")` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫—É
  - –ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ
  - –í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî –¥–∞–Ω–Ω—ã–µ (callback_data), –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –±–æ—Ç—É –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏

- `dataPrefix` ‚Äî –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ callback-–∑–∞–ø—Ä–æ—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `"delete_profile"`, –∞ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç `"delete_profile_yes"` –∏ `"delete_profile_no"`.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```go
reply := tgbotapi.NewMessage(chatID, "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å?")
reply.ReplyMarkup = keyboard.NewConfirmKeyboard("delete_profile")
bot.Send(reply)
```

---

## 8. –û–±—Ä–∞–±–æ—Ç–∫–∞ callback-–∑–∞–ø—Ä–æ—Å–æ–≤

**–ß—Ç–æ —ç—Ç–æ:**  
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫—É, Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ—Ç—É callback-–∑–∞–ø—Ä–æ—Å. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ–≥–æ –∏ –æ—Ç–≤–µ—Ç–∏—Ç—å.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É callback-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –±–æ—Ç–∞.

**–û–±–Ω–æ–≤–ª—è–µ–º `handleUpdate` –≤ `cmd/bot/main.go`:**
```go
func handleUpdate(
    bot *tgbotapi.BotAPI,
    dispatcher *handler.Dispatcher,
    messageHandler *handler.MessageHandler,
    update tgbotapi.Update,
) {
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º callback-–∑–∞–ø—Ä–æ—Å—ã (–Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏)
    if update.CallbackQuery != nil {
        handleCallbackQuery(bot, update.CallbackQuery)
        return
    }

    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
    if update.Message == nil {
        return
    }

    msg := update.Message

    if msg.IsCommand() {
        middleware.LogCommand(msg)
        err := dispatcher.HandleCommand(bot, msg)
        if err != nil {
            log.Printf("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã: %v", err)
        }
        return
    }

    if msg.Text != "" {
        middleware.LogMessage(msg)
        err := messageHandler.Handle(bot, msg)
        if err != nil {
            log.Printf("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è: %v", err)
        }
    }
}

// handleCallbackQuery –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫—É
func handleCallbackQuery(bot *tgbotapi.BotAPI, callback *tgbotapi.CallbackQuery) {
    data := callback.Data
    chatID := callback.Message.Chat.ID
    messageID := callback.Message.MessageID
    userID := callback.From.ID

    log.Printf("Callback –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è %d: %s", userID, data)

    // –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ callback-–∑–∞–ø—Ä–æ—Å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
    // –≠—Ç–æ —É–±–µ—Ä—ë—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–µ
    callbackConfig := tgbotapi.NewCallback(callback.ID, "")
    bot.Request(callbackConfig)

    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–∞
    if strings.HasPrefix(data, "delete_profile_") {
        if data == "delete_profile_yes" {
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —É–¥–∞–ª–µ–Ω–∏–µ
            editText := "‚úÖ –ü—Ä–æ—Ñ–∏–ª—å —É–¥–∞–ª—ë–Ω!"
            edit := tgbotapi.NewEditMessageText(chatID, messageID, editText)
            bot.Send(edit)
        } else if data == "delete_profile_no" {
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª —É–¥–∞–ª–µ–Ω–∏–µ
            editText := "‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ."
            edit := tgbotapi.NewEditMessageText(chatID, messageID, editText)
            bot.Send(edit)
        }
    }
}
```

**–†–∞–∑–±–æ—Ä:**

- `update.CallbackQuery` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É.

- `callback.Data` ‚Äî –¥–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (—Ç–æ, —á—Ç–æ –º—ã —É–∫–∞–∑–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏).

- `bot.Request(callbackConfig)` ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ callback-–∑–∞–ø—Ä–æ—Å. –≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ ‚Äî –∏–Ω–∞—á–µ Telegram –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–µ.

- `tgbotapi.NewEditMessageText` ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ.

- `strings.HasPrefix` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞.

---

## 9. –°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å URL-–∫–Ω–æ–ø–∫–∞–º–∏

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é:**
```go
// NewURLKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å URL-–∫–Ω–æ–ø–∫–∞–º–∏
func NewURLKeyboard() tgbotapi.InlineKeyboardMarkup {
    btnWebsite := tgbotapi.NewInlineKeyboardButtonURL("üåê –°–∞–π—Ç", "https://example.com")
    btnGitHub := tgbotapi.NewInlineKeyboardButtonURL("üíª GitHub", "https://github.com")
    
    row := tgbotapi.NewInlineKeyboardRow(btnWebsite, btnGitHub)
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    
    return keyboard
}
```

**–†–∞–∑–±–æ—Ä:**

- `NewInlineKeyboardButtonURL` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–Ω–æ–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

- URL-–∫–Ω–æ–ø–∫–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç callback-–∑–∞–ø—Ä–æ—Å—ã, –æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç —Å—Å—ã–ª–∫—É.

---

## 10. –°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π "–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å"

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è).

**–î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é:**
```go
// NewToggleKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
func NewToggleKeyboard(enabled bool, callbackData string) tgbotapi.InlineKeyboardMarkup {
    var btnText string
    if enabled {
        btnText = "üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –í–∫–ª—é—á–µ–Ω–æ"
    } else {
        btnText = "üîï –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –í—ã–∫–ª—é—á–µ–Ω–æ"
    }
    
    btn := tgbotapi.NewInlineKeyboardButtonData(btnText, callbackData)
    row := tgbotapi.NewInlineKeyboardRow(btn)
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    
    return keyboard
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```go
// –°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
enabled := true
keyboard := keyboard.NewToggleKeyboard(enabled, "toggle_notifications")

reply := tgbotapi.NewMessage(chatID, "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:")
reply.ReplyMarkup = keyboard
bot.Send(reply)
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:**
```go
if data == "toggle_notifications" {
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö)
    currentState := true
    
    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    newState := !currentState
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    newKeyboard := keyboard.NewToggleKeyboard(newState, "toggle_notifications")
    edit := tgbotapi.NewEditMessageReplyMarkup(chatID, messageID, newKeyboard)
    bot.Send(edit)
}
```

**–†–∞–∑–±–æ—Ä:**

- `NewEditMessageReplyMarkup` ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–µ –º–µ–Ω—è—è —Ç–µ–∫—Å—Ç.

---

## 11. –°–æ–∑–¥–∞—ë–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é (–Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º)

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**  
–°–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ù–∞–∑–∞–¥" –∏ "–í–ø–µ—Ä—ë–¥" –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º.

**–°–æ–∑–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é:**
```go
// NewPaginationKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
func NewPaginationKeyboard(currentPage, totalPages int, callbackPrefix string) tgbotapi.InlineKeyboardMarkup {
    var buttons []tgbotapi.InlineKeyboardButton
    
    // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
    if currentPage > 1 {
        prevBtn := tgbotapi.NewInlineKeyboardButtonData("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", 
            fmt.Sprintf("%s_page_%d", callbackPrefix, currentPage-1))
        buttons = append(buttons, prevBtn)
    }
    
    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    pageInfo := tgbotapi.NewInlineKeyboardButtonData(
        fmt.Sprintf("–°—Ç—Ä–∞–Ω–∏—Ü–∞ %d –∏–∑ %d", currentPage, totalPages),
        "page_info", // –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "callback_data", –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è)
    )
    buttons = append(buttons, pageInfo)
    
    // –ö–Ω–æ–ø–∫–∞ "–í–ø–µ—Ä—ë–¥"
    if currentPage < totalPages {
        nextBtn := tgbotapi.NewInlineKeyboardButtonData("–í–ø–µ—Ä—ë–¥ ‚û°Ô∏è", 
            fmt.Sprintf("%s_page_%d", callbackPrefix, currentPage+1))
        buttons = append(buttons, nextBtn)
    }
    
    row := tgbotapi.NewInlineKeyboardRow(buttons...)
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    
    return keyboard
}
```

**–†–∞–∑–±–æ—Ä:**

- `buttons...` ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä spread –≤ Go. –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å—Ä–µ–∑ –∫–Ω–æ–ø–æ–∫ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã.

- –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–Ω–∏ –∏–º–µ—é—Ç —Å–º—ã—Å–ª (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ù–∞–∑–∞–¥" –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ).

---

## 12. –ü–æ–ª–Ω—ã–π –∫–æ–¥ —Ñ–∞–π–ª–æ–≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä

**–§–∞–π–ª `internal/keyboard/reply_keyboard.go`:**
```go
package keyboard

import tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"

// NewLanguageKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞
func NewLanguageKeyboard() tgbotapi.ReplyKeyboardMarkup {
    btnRussian := tgbotapi.NewKeyboardButton("üá∑üá∫ –†—É—Å—Å–∫–∏–π")
    btnEnglish := tgbotapi.NewKeyboardButton("üá¨üáß English")
    row := tgbotapi.NewKeyboardButtonRow(btnRussian, btnEnglish)
    keyboard := tgbotapi.NewReplyKeyboard(row)
    return keyboard
}

// NewMainMenuKeyboard —Å–æ–∑–¥–∞—ë—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞
func NewMainMenuKeyboard() tgbotapi.ReplyKeyboardMarkup {
    btnProfile := tgbotapi.NewKeyboardButton("üë§ –ü—Ä–æ—Ñ–∏–ª—å")
    btnSettings := tgbotapi.NewKeyboardButton("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏")
    row1 := tgbotapi.NewKeyboardButtonRow(btnProfile, btnSettings)
    
    btnHelp := tgbotapi.NewKeyboardButton("‚ùì –ü–æ–º–æ—â—å")
    btnAbout := tgbotapi.NewKeyboardButton("‚ÑπÔ∏è –û –±–æ—Ç–µ")
    row2 := tgbotapi.NewKeyboardButtonRow(btnHelp, btnAbout)
    
    btnCancel := tgbotapi.NewKeyboardButton("‚ùå –û—Ç–º–µ–Ω–∞")
    row3 := tgbotapi.NewKeyboardButtonRow(btnCancel)
    
    keyboard := tgbotapi.NewReplyKeyboard(row1, row2, row3)
    return keyboard
}

// RemoveKeyboard —É–¥–∞–ª—è–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
func RemoveKeyboard() tgbotapi.ReplyKeyboardRemove {
    return tgbotapi.NewReplyKeyboardRemove()
}
```

**–§–∞–π–ª `internal/keyboard/inline_keyboard.go`:**
```go
package keyboard

import (
    "fmt"

    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// NewConfirmKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–î–∞" –∏ "–ù–µ—Ç"
func NewConfirmKeyboard(dataPrefix string) tgbotapi.InlineKeyboardMarkup {
    btnYes := tgbotapi.NewInlineKeyboardButtonData("‚úÖ –î–∞", dataPrefix+"_yes")
    btnNo := tgbotapi.NewInlineKeyboardButtonData("‚ùå –ù–µ—Ç", dataPrefix+"_no")
    row := tgbotapi.NewInlineKeyboardRow(btnYes, btnNo)
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    return keyboard
}

// NewURLKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å URL-–∫–Ω–æ–ø–∫–∞–º–∏
func NewURLKeyboard() tgbotapi.InlineKeyboardMarkup {
    btnWebsite := tgbotapi.NewInlineKeyboardButtonURL("üåê –°–∞–π—Ç", "https://example.com")
    btnGitHub := tgbotapi.NewInlineKeyboardButtonURL("üíª GitHub", "https://github.com")
    row := tgbotapi.NewInlineKeyboardRow(btnWebsite, btnGitHub)
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    return keyboard
}

// NewToggleKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
func NewToggleKeyboard(enabled bool, callbackData string) tgbotapi.InlineKeyboardMarkup {
    var btnText string
    if enabled {
        btnText = "üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –í–∫–ª—é—á–µ–Ω–æ"
    } else {
        btnText = "üîï –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –í—ã–∫–ª—é—á–µ–Ω–æ"
    }
    
    btn := tgbotapi.NewInlineKeyboardButtonData(btnText, callbackData)
    row := tgbotapi.NewInlineKeyboardRow(btn)
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    return keyboard
}

// NewPaginationKeyboard —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
func NewPaginationKeyboard(currentPage, totalPages int, callbackPrefix string) tgbotapi.InlineKeyboardMarkup {
    var buttons []tgbotapi.InlineKeyboardButton
    
    if currentPage > 1 {
        prevBtn := tgbotapi.NewInlineKeyboardButtonData("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", 
            fmt.Sprintf("%s_page_%d", callbackPrefix, currentPage-1))
        buttons = append(buttons, prevBtn)
    }
    
    pageInfo := tgbotapi.NewInlineKeyboardButtonData(
        fmt.Sprintf("–°—Ç—Ä–∞–Ω–∏—Ü–∞ %d –∏–∑ %d", currentPage, totalPages),
        "page_info",
    )
    buttons = append(buttons, pageInfo)
    
    if currentPage < totalPages {
        nextBtn := tgbotapi.NewInlineKeyboardButtonData("–í–ø–µ—Ä—ë–¥ ‚û°Ô∏è", 
            fmt.Sprintf("%s_page_%d", callbackPrefix, currentPage+1))
        buttons = append(buttons, nextBtn)
    }
    
    row := tgbotapi.NewInlineKeyboardRow(buttons...)
    keyboard := tgbotapi.NewInlineKeyboardMarkup(row)
    return keyboard
}
```

---

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

**–û—à–∏–±–∫–∞ 1: "Bad Request: BUTTON_DATA_INVALID"**

**–ü—Ä–∏—á–∏–Ω–∞:** Callback data —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π (–º–∞–∫—Å–∏–º—É–º 64 –±–∞–π—Ç–∞).

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∞ –¥–µ—Ç–∞–ª–∏ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–û—à–∏–±–∫–∞ 2: –ö–Ω–æ–ø–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è**

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–Ω–æ–ø–æ–∫ –≤ —Ä—è–¥—É.

**–†–µ—à–µ–Ω–∏–µ:** 
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫
- –ù–µ –±–æ–ª—å—à–µ 3-4 –∫–Ω–æ–ø–æ–∫ –≤ —Ä—è–¥—É –¥–ª—è reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –ù–µ –±–æ–ª—å—à–µ 8 –∫–Ω–æ–ø–æ–∫ –≤ —Ä—è–¥—É –¥–ª—è inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

**–û—à–∏–±–∫–∞ 3: Callback-–∑–∞–ø—Ä–æ—Å –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è**

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω `update.CallbackQuery` –≤ –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É `if update.CallbackQuery != nil` –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π.

**–û—à–∏–±–∫–∞ 4: –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–µ –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç**

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –æ—Ç–≤–µ—Ç –Ω–∞ callback-–∑–∞–ø—Ä–æ—Å.

**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π—Ç–µ `bot.Request(callbackConfig)` –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ callback-–∑–∞–ø—Ä–æ—Å–∞.

---

## –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏

- –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏)
- –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–∫–Ω–æ–ø–∫–∏ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º)
- –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–∏ (callback-–∑–∞–ø—Ä–æ—Å—ã)
- –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å URL-–∫–Ω–æ–ø–∫–∏
- –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é
- –ö–∞–∫ —Å–∫—Ä—ã–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Å–ø–æ—Å–æ–±—ã –∏—Ö —Ä–µ—à–µ–Ω–∏—è

---

[–°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞: –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö](./06-database.md)

[–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](./README.md)

